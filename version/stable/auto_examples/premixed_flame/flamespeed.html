
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Compute the laminar flame speed of diluted hydrogen at low pressure &#8212; PyChemkin</title>

  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css?v=4ae1632d" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery.css?v=d2d258e8" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-dataframe.css?v=2082cf3c" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/ansys_sphinx_theme.css?v=d2ac875c" />
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.23/css/jquery.dataTables.min.css" />
    <link rel="stylesheet" type="text/css" href="https://www.nerdfonts.com/assets/css/webfont.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>
 
<link href="../../_static/css/breadcrumbs.css" rel="stylesheet" />

    <script src="../../_static/documentation_options.js?v=8a448e45"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/js/table.js?v=b64f5182"></script>
    <script src="https://cdn.datatables.net/1.10.23/js/jquery.dataTables.min.js"></script>
    <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'auto_examples/premixed_flame/flamespeed';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.15.4';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://chemkin.docs.pyansys.com/versions.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = 'dev';
        DOCUMENTATION_OPTIONS.show_version_warning_banner = false;
        </script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Construct atmospheric methane-air flame speed versus equivalence ratio table" href="methane_flamespeed_table.html" />
    <link rel="prev" title="Premixed flame models" href="index.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <link rel="canonical" href="https://chemkin.docs.pyansys.com/version/stable/auto_examples/premixed_flame/flamespeed.html" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container"><!-- Debugging: html_theme_options =  -->

  <!-- If there is no MeiliSearch enabled, use the PyData search -->
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

   
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  

<a class="navbar-brand logo" href="https://docs.pyansys.com/">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/pyansys_logo_transparent_black.png" class="logo__image only-light" alt="PyChemkin - Home"/>
    <script>document.write(`<img src="../../_static/pyansys_logo_transparent_white.png" class="logo__image only-dark" alt="PyChemkin - Home"/>`);</script>
  
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../getting_started.html">
    Getting started
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../user_guide.html">
    User guide
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../index.html">
    Examples
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../contributing.html">
    Contribute
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../api/index.html">
    API reference
  </a>
</li>

  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
        </div>
      
      
        <div class="navbar-item">
<script>
document.write(`
  <div class="version-switcher__container dropdown">
    <button id="pst-version-switcher-button-2"
      type="button"
      class="version-switcher__button btn btn-sm dropdown-toggle"
      data-bs-toggle="dropdown"
      aria-haspopup="listbox"
      aria-controls="pst-version-switcher-list-2"
      aria-label="Version switcher list"
    >
      Choose version  <!-- this text may get changed later by javascript -->
      <span class="caret"></span>
    </button>
    <div id="pst-version-switcher-list-2"
      class="version-switcher__menu dropdown-menu list-group-flush py-0"
      role="listbox" aria-labelledby="pst-version-switcher-button-2">
      <!-- dropdown will be populated by javascript on page load -->
    </div>
  </div>
`);
</script></div>
      
        <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/ansys/pychemkin" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/ansys/pychemkin/discussions" title="Support" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa fa-comment fa-fw fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Support</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://chemkin.docs.pyansys.com/version/dev/_static/assets/download/pychemkin.pdf" title="Download documentation in PDF" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa fa-file-pdf fa-fw fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Download documentation in PDF</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
    <div id="announcement_msg"></div>
<script>
  fetch("announcement.html")
    .then((response) => {
      if (!response.ok) {
        throw new Error(`HTTP error: ${response.status}`);
      }
      return response.text();
    })
    .then(
      (text) => (document.getElementById("announcement_msg").innerHTML = text),
    )
    .catch((error) => console.error(`Fetch problem: ${error.message}`));
</script>  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../getting_started.html">
    Getting started
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../user_guide.html">
    User guide
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../index.html">
    Examples
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../contributing.html">
    Contribute
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../api/index.html">
    API reference
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<script>
document.write(`
  <div class="version-switcher__container dropdown">
    <button id="pst-version-switcher-button-3"
      type="button"
      class="version-switcher__button btn btn-sm dropdown-toggle"
      data-bs-toggle="dropdown"
      aria-haspopup="listbox"
      aria-controls="pst-version-switcher-list-3"
      aria-label="Version switcher list"
    >
      Choose version  <!-- this text may get changed later by javascript -->
      <span class="caret"></span>
    </button>
    <div id="pst-version-switcher-list-3"
      class="version-switcher__menu dropdown-menu list-group-flush py-0"
      role="listbox" aria-labelledby="pst-version-switcher-button-3">
      <!-- dropdown will be populated by javascript on page load -->
    </div>
  </div>
`);
</script></div>
        
          <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/ansys/pychemkin" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/ansys/pychemkin/discussions" title="Support" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa fa-comment fa-fw fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Support</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://chemkin.docs.pyansys.com/version/dev/_static/assets/download/pychemkin.pdf" title="Download documentation in PDF" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa fa-file-pdf fa-fw fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Download documentation in PDF</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../chemistry/index.html">Chemistry</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mixture/index.html">Mixture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../batch/index.html">Batch reactor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../engine/index.html">0-D engine models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../PSR/index.html">Perfectly stirred reactor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../PFR/index.html">Plug-flow reactor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reactor_network/index.html">PSR network</a></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="index.html">Premixed flame models</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Compute the laminar flame speed of diluted hydrogen at low pressure</a></li>
<li class="toctree-l2"><a class="reference internal" href="methane_flamespeed_table.html">Construct atmospheric  methane-air flame speed versus equivalence ratio table</a></li>
<li class="toctree-l2"><a class="reference internal" href="premixedburnerflame.html">Simulate a burner stabilized premixed flame</a></li>
</ul>
</details></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">
<nav aria-label="Breadcrumb">
  <ul class="bd-breadcrumbs">
         
    <li class="breadcrumb-item breadcrumb-home">
      <a href="https://docs.pyansys.com/" class="nav-link">PyAnsys</a>
    </li>
     
    <li class="breadcrumb-item">
      <a
        href="../../index.html"
        class="nav-link"
        aria-label="Home"
      >
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
     
    <li class="breadcrumb-item">
      <a href="../index.html" class="nav-link">Examples</a>
    </li>
     
    <li class="breadcrumb-item">
      <a href="index.html" class="nav-link">Premixed flame models</a>
    </li>
      
    <li class="breadcrumb-item active" aria-current="page">Compute the laminar flame speed of diluted hydrogen at low pressure</li>
    
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <div class="sphx-glr-download-link-note admonition note">
<p class="admonition-title">Note</p>
<p><a class="reference internal" href="#sphx-glr-download-auto-examples-premixed-flame-flamespeed-py"><span class="std std-ref">Go to the end</span></a>
to download the full example code.</p>
</div>
<section class="sphx-glr-example-title" id="compute-the-laminar-flame-speed-of-diluted-hydrogen-at-low-pressure">
<span id="ref-hydrogen-flame-speed"></span><span id="sphx-glr-auto-examples-premixed-flame-flamespeed-py"></span><h1>Compute the laminar flame speed of diluted hydrogen at low pressure<a class="headerlink" href="#compute-the-laminar-flame-speed-of-diluted-hydrogen-at-low-pressure" title="Link to this heading">#</a></h1>
<p>The <em>freely propagating premixed flame</em> model can be utilized to obtain the
laminar <em>flame speed</em> of a gas mixture at given initial temperature and pressure.
The premixed flame model will calculate the temperature and species composition profiles
across the flame, and the laminar flame speed will be derived from the mass flow rate of
the gas mixture, a constant across the entire calculation domain because of the mass
conservation.</p>
<p>This tutorial demonstrates the application of the “freely propagating” premixed flame model
to calculate the laminar flame speed of an N<sub>2</sub> diluted hydrogen-air mixture at
low pressure. Since the transport processes are critical for flame calculations, the
<em>transport data</em> must be included in the mechanism data and pre-processed.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
<section id="import-pychemkin-packages-and-start-the-logger">
<h2>Import PyChemkin packages and start the logger<a class="headerlink" href="#import-pychemkin-packages-and-start-the-logger" title="Link to this heading">#</a></h2>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">time</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">ansys.chemkin</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">ck</span>  <span class="c1"># Chemkin</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ansys.chemkin</span><span class="w"> </span><span class="kn">import</span> <span class="n">Color</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ansys.chemkin.inlet</span><span class="w"> </span><span class="kn">import</span> <span class="n">Stream</span>  <span class="c1"># external gaseous inlet</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ansys.chemkin.logger</span><span class="w"> </span><span class="kn">import</span> <span class="n">logger</span>

<span class="c1"># Chemkin 1-D premixed freely propagating flame model (steady-state)</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ansys.chemkin.premixedflames.premixedflame</span><span class="w"> </span><span class="kn">import</span> <span class="n">FreelyPropagating</span> <span class="k">as</span> <span class="n">FlameSpeed</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>  <span class="c1"># plotting</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>  <span class="c1"># number crunching</span>

<span class="c1"># check working directory</span>
<span class="n">current_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()</span>
<span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;working directory: &quot;</span> <span class="o">+</span> <span class="n">current_dir</span><span class="p">)</span>
<span class="c1"># set verbose mode</span>
<span class="n">ck</span><span class="o">.</span><span class="n">set_verbose</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="c1"># set interactive mode for plotting the results</span>
<span class="c1"># interactive = True: display plot</span>
<span class="c1"># interactive = False: save plot as a PNG file</span>
<span class="k">global</span> <span class="n">interactive</span>
<span class="n">interactive</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
</section>
<section id="create-a-chemistry-set">
<h2>Create a chemistry set<a class="headerlink" href="#create-a-chemistry-set" title="Link to this heading">#</a></h2>
<p>The ‘C2 NOx’ mechanism is from the default <em>“/reaction/data”</em> directory.
This mechanism also includes information about the <em>Soave</em> cubic
Equation of State (EOS) for the real-gas applications. PyChemkin preprocessor
will indicate the availability of the real-gas model in the <code class="docutils literal notranslate"><span class="pre">Chemistry</span> <span class="pre">Set</span></code> processed.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The transport data <em>must</em> be included and pre-processed because the transport processes,
<em>convection and diffusion</em>, are important to sustain the flame structure.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Use the <code class="docutils literal notranslate"><span class="pre">preprocess_transportdata</span></code> method if the transport data is embedded in the
gas-phase mechanism file.</p>
</div>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># set mechanism directory (the default Chemkin mechanism data directory)</span>
<span class="n">data_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ck</span><span class="o">.</span><span class="n">ansys_dir</span><span class="p">,</span> <span class="s2">&quot;reaction&quot;</span><span class="p">,</span> <span class="s2">&quot;data&quot;</span><span class="p">)</span>
<span class="n">mechanism_dir</span> <span class="o">=</span> <span class="n">data_dir</span>
<span class="c1"># create a chemistry set based on the C2 NOx mechanism</span>
<span class="n">MyGasMech</span> <span class="o">=</span> <span class="n">ck</span><span class="o">.</span><span class="n">Chemistry</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;C2 NOx&quot;</span><span class="p">)</span>
<span class="c1"># set mechanism input files</span>
<span class="c1"># including the full file path is recommended</span>
<span class="n">MyGasMech</span><span class="o">.</span><span class="n">chemfile</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">mechanism_dir</span><span class="p">,</span> <span class="s2">&quot;C2_NOx_SRK.inp&quot;</span><span class="p">)</span>

<span class="c1"># direct the preprocessor to include the transport properties</span>
<span class="c1"># only when the mechanism file contains all the transport data</span>
<span class="n">MyGasMech</span><span class="o">.</span><span class="n">preprocess_transportdata</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="pre-process-the-chemistry-set">
<h2>Pre-process the <code class="docutils literal notranslate"><span class="pre">Chemistry</span> <span class="pre">Set</span></code><a class="headerlink" href="#pre-process-the-chemistry-set" title="Link to this heading">#</a></h2>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># preprocess the mechanism files</span>
<span class="n">iError</span> <span class="o">=</span> <span class="n">MyGasMech</span><span class="o">.</span><span class="n">preprocess</span><span class="p">()</span>
<span class="k">if</span> <span class="n">iError</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error: Failed to preprocess the mechanism!&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;       Error code = </span><span class="si">{</span><span class="n">iError</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">exit</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="set-up-the-h2-n2-air-mixture-for-the-flame-speed-calculation">
<h2>Set up the (H<sub>2</sub> + N<sub>2</sub>)-air mixture for the flame speed calculation<a class="headerlink" href="#set-up-the-h2-n2-air-mixture-for-the-flame-speed-calculation" title="Link to this heading">#</a></h2>
<p>Instantiate an <code class="docutils literal notranslate"><span class="pre">Stream</span></code> object <code class="docutils literal notranslate"><span class="pre">premixed</span></code> for the inlet gas mixture.
The <code class="docutils literal notranslate"><span class="pre">Stream</span></code> object is a <code class="docutils literal notranslate"><span class="pre">Mixture</span></code> object with the addition of the
<em>inlet flow rate</em>. You can specify the inlet gas properties the same way you
set up a <code class="docutils literal notranslate"><span class="pre">Mixture</span></code>. Here the <code class="docutils literal notranslate"><span class="pre">X_by_Equivalence_Ratio</span></code> method is used.
You create the <code class="docutils literal notranslate"><span class="pre">fuel</span></code> and the <code class="docutils literal notranslate"><span class="pre">air</span></code> mixtures first. Then define the
<em>complete combustion product species</em> and provide the <em>additives</em> composition
if applicable. And finally you can simply set <code class="docutils literal notranslate"><span class="pre">equivalenceratio=1</span></code> to create
the stoichiometric hydrogen-air mixture. The estimated inlet mass flow rate can be
assigned by the <code class="docutils literal notranslate"><span class="pre">mass_flowrate()</span></code> method.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># create the fuel mixture</span>
<span class="n">fuel</span> <span class="o">=</span> <span class="n">ck</span><span class="o">.</span><span class="n">Mixture</span><span class="p">(</span><span class="n">MyGasMech</span><span class="p">)</span>
<span class="c1"># set fuel composition: hydrogen diluted by nitrogen</span>
<span class="n">fuel</span><span class="o">.</span><span class="n">X</span> <span class="o">=</span> <span class="p">[(</span><span class="s2">&quot;H2&quot;</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;N2&quot;</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">)]</span>
<span class="c1"># setting pressure and temperature is not required in this case</span>
<span class="n">fuel</span><span class="o">.</span><span class="n">pressure</span> <span class="o">=</span> <span class="mf">0.0125</span> <span class="o">*</span> <span class="n">ck</span><span class="o">.</span><span class="n">Patm</span>
<span class="n">fuel</span><span class="o">.</span><span class="n">temperature</span> <span class="o">=</span> <span class="mf">300.0</span>  <span class="c1"># inlet temperature</span>

<span class="c1"># create the oxidizer mixture: air</span>
<span class="n">air</span> <span class="o">=</span> <span class="n">ck</span><span class="o">.</span><span class="n">Mixture</span><span class="p">(</span><span class="n">MyGasMech</span><span class="p">)</span>
<span class="n">air</span><span class="o">.</span><span class="n">X</span> <span class="o">=</span> <span class="n">ck</span><span class="o">.</span><span class="n">Air</span><span class="o">.</span><span class="n">X</span><span class="p">()</span>
<span class="c1"># setting pressure and temperature is not required in this case</span>
<span class="n">air</span><span class="o">.</span><span class="n">pressure</span> <span class="o">=</span> <span class="n">fuel</span><span class="o">.</span><span class="n">pressure</span>
<span class="n">air</span><span class="o">.</span><span class="n">temperature</span> <span class="o">=</span> <span class="n">fuel</span><span class="o">.</span><span class="n">temperature</span>

<span class="c1"># create the fuel-air Stream for the premixed flame speed calculation</span>
<span class="n">premixed</span> <span class="o">=</span> <span class="n">Stream</span><span class="p">(</span><span class="n">MyGasMech</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;premixed&quot;</span><span class="p">)</span>
<span class="c1"># products from the complete combustion of the fuel mixture and air</span>
<span class="n">products</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;H2O&quot;</span><span class="p">,</span> <span class="s2">&quot;N2&quot;</span><span class="p">]</span>
<span class="c1"># species mole fractions of added/inert mixture. can also create an additives mixture here</span>
<span class="n">add_frac</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">MyGasMech</span><span class="o">.</span><span class="n">KK</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">double</span><span class="p">)</span>  <span class="c1"># no additives: all zeros</span>
<span class="c1"># mean equivalence ratio</span>
<span class="n">equiv</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="n">iError</span> <span class="o">=</span> <span class="n">premixed</span><span class="o">.</span><span class="n">X_by_Equivalence_Ratio</span><span class="p">(</span>
    <span class="n">MyGasMech</span><span class="p">,</span> <span class="n">fuel</span><span class="o">.</span><span class="n">X</span><span class="p">,</span> <span class="n">air</span><span class="o">.</span><span class="n">X</span><span class="p">,</span> <span class="n">add_frac</span><span class="p">,</span> <span class="n">products</span><span class="p">,</span> <span class="n">equivalenceratio</span><span class="o">=</span><span class="n">equiv</span>
<span class="p">)</span>
<span class="c1"># check fuel-oxidizer mixture creation status</span>
<span class="k">if</span> <span class="n">iError</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error: Failed to create the hydrogen-air mixture!&quot;</span><span class="p">)</span>
    <span class="n">exit</span><span class="p">()</span>

<span class="c1"># setting inlet pressure [dynes/cm2]</span>
<span class="n">premixed</span><span class="o">.</span><span class="n">pressure</span> <span class="o">=</span> <span class="n">fuel</span><span class="o">.</span><span class="n">pressure</span>
<span class="c1"># set inlet/unburnt gas temperature [K]</span>
<span class="n">premixed</span><span class="o">.</span><span class="n">temperature</span> <span class="o">=</span> <span class="n">fuel</span><span class="o">.</span><span class="n">temperature</span>
<span class="c1"># set estimated value of the flame speed [cm/sec]</span>
<span class="n">premixed</span><span class="o">.</span><span class="n">velocity</span> <span class="o">=</span> <span class="mf">65.0</span>
</pre></div>
</div>
</section>
<section id="instantiate-the-laminar-speed-calculator">
<h2>Instantiate the laminar speed calculator<a class="headerlink" href="#instantiate-the-laminar-speed-calculator" title="Link to this heading">#</a></h2>
<p>Set up the <em>freely propagating premixed flame</em> model by using the stream
representing the premixed fuel-oxidizer mixture (with the estimated
mass flow rate value). When the flame speed is expected to be very small
(&lt; 10 [cm/sec]) or very large (&gt; 300 [cm/sec]), it might be beneficial to
set the <code class="docutils literal notranslate"><span class="pre">mass_flowrate</span></code> of this inlet to the mass flux [g/cm<sup>2</sup>-sec]
based on the estimated flame speed value. There are many options and parameters
related to the treatment of the species boundary condition, the transport properties.
All the available options and parameters are described in the <em>Chemkin Input</em> manual.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The stream parameter used to instantiate a <code class="docutils literal notranslate"><span class="pre">FlameSpeed</span></code> object is
the properties of the unburned fuel-oxidizer mixture of which the <em>laminar
flame speed</em> will be determined.</p>
</div>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">flamespeedcalculator</span> <span class="o">=</span> <span class="n">FlameSpeed</span><span class="p">(</span><span class="n">premixed</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;premixed_hydrogen&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="set-up-initial-mesh-and-grid-adaption-options">
<h2>Set up initial mesh and grid adaption options<a class="headerlink" href="#set-up-initial-mesh-and-grid-adaption-options" title="Link to this heading">#</a></h2>
<p>The premixed flame models provides several methods to set up the initial
mesh.  Here a uniform mesh of 35 grid points is used at the start of the simulation.
The flame models would add more grid points to where they are needed as determined by
the solution quality parameters specified by the <code class="docutils literal notranslate"><span class="pre">set_solution_quality</span></code> method.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">end_poistion</span></code> is a required input as it defines the length of the calculation domain.
Typically, the length of the calculation domain is between 1 to 10 [cm]. For low pressure
conditions, the flame thickness becomes wider and a larger calculation domain is required.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>There are three methods to set up the initial mesh for the premixed flame calculations:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">use_TPRO_grids</span></code> method (default) to use the grid points in the estimate temperature profile.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">set_numb_grid_points</span></code> method to create a uniform mesh of the given number of grid points.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">set_grid_profile</span></code> method to specify the initial grid point profile.</p></li>
</ol>
</div>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># set the initial mesh to 35 uniformly distributed grid points</span>
<span class="n">flamespeedcalculator</span><span class="o">.</span><span class="n">set_numb_grid_points</span><span class="p">(</span><span class="mi">35</span><span class="p">)</span>
<span class="c1"># set the maximum total number of grid points allowed in the calculation (optional)</span>
<span class="n">flamespeedcalculator</span><span class="o">.</span><span class="n">set_max_grid_points</span><span class="p">(</span><span class="mi">150</span><span class="p">)</span>
<span class="c1"># define the calculation domain [cm]</span>
<span class="n">flamespeedcalculator</span><span class="o">.</span><span class="n">end_position</span> <span class="o">=</span> <span class="mf">40.0</span>
<span class="c1"># maximum number of grid points can be added during each grid adaption event (optional)</span>
<span class="n">flamespeedcalculator</span><span class="o">.</span><span class="n">set_max_adaptive_points</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
<span class="c1"># set the maximum values of the grdient and the curvature of the solution profiles (optional)</span>
<span class="n">flamespeedcalculator</span><span class="o">.</span><span class="n">set_solution_quality</span><span class="p">(</span><span class="n">gradient</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">curvature</span><span class="o">=</span><span class="mf">0.2</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="set-transport-property-options">
<h2>Set transport property options<a class="headerlink" href="#set-transport-property-options" title="Link to this heading">#</a></h2>
<p>Ansys Chemkin offers three methods for computing mixture properties:</p>
<ul class="simple">
<li><p><strong>Mixture averaged</strong></p></li>
<li><p><strong>Multi-component</strong></p></li>
<li><p><a href="#id1"><span class="problematic" id="id2">**</span></a>Constant Lewis number</p></li>
</ul>
<p>When the system pressure is not too low, the mixture averaged method should be adequate.
The multi-component method, although it is slightly more accurate, makes the simulation time longer
and is harder to converge. Using the constant Lewis number method implies that all the species
would have the same transport properties. Include the thermal diffusion effect, when there are large
amount of light species (molecular weight &lt; 5.0).</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># use the mixture averaged formulism to evaluate the mixture transport properties</span>
<span class="n">flamespeedcalculator</span><span class="o">.</span><span class="n">use_mixture_averaged_transport</span><span class="p">()</span>
<span class="c1"># include the thermal diffusion effect (because the unburned mixture has hydrogen (molecular weight &lt; 5.0))</span>
<span class="n">flamespeedcalculator</span><span class="o">.</span><span class="n">use_thermal_diffusion</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="set-species-composition-boundary-option">
<h2>Set species composition boundary option<a class="headerlink" href="#set-species-composition-boundary-option" title="Link to this heading">#</a></h2>
<p>There two types of boundary condition treatments for the species composition available
from the premixed flame models: <code class="docutils literal notranslate"><span class="pre">comp</span></code> and <code class="docutils literal notranslate"><span class="pre">flux</span></code>. You can find the descriptions of
these two treatments in the <em>Chemkin Input</em> manual.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># specific the species composition boundary treatment (&#39;comp&#39; or &#39;flux&#39;)</span>
<span class="c1"># use &#39;comp&#39; to keep the inlet species mass fraction values the same as the &quot;given inlet stream&quot;.</span>
<span class="n">flamespeedcalculator</span><span class="o">.</span><span class="n">set_species_boundary_types</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;comp&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="set-solver-parameters">
<h2>Set solver parameters<a class="headerlink" href="#set-solver-parameters" title="Link to this heading">#</a></h2>
<p>The steady state solver parameters for the premixed flame model are optional because all the
solver parameters have their own default values. Change the solver parameters when the premixed
flame simulation does not converge with the default settings.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">FreelyPropagating</span></code> flame speed calculator has an option to automatically generate
an estimate temperature profile that might improve the convergence performance. Use the
<code class="docutils literal notranslate"><span class="pre">automatic_temperature_profile_estimate</span></code> method to turn this option on.</p>
</div>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># reset the tolerances in the steady-state solver (optional)</span>
<span class="n">flamespeedcalculator</span><span class="o">.</span><span class="n">steady_state_tolerances</span> <span class="o">=</span> <span class="p">(</span><span class="mf">1.0e-9</span><span class="p">,</span> <span class="mf">1.0e-6</span><span class="p">)</span>
<span class="n">flamespeedcalculator</span><span class="o">.</span><span class="n">time_stepping_tolerances</span> <span class="o">=</span> <span class="p">(</span><span class="mf">1.0e-6</span><span class="p">,</span> <span class="mf">1.0e-4</span><span class="p">)</span>
<span class="c1"># reset the gas species floor value in the steady-state solver (optional)</span>
<span class="n">flamespeedcalculator</span><span class="o">.</span><span class="n">set_species_floor</span><span class="p">(</span><span class="o">-</span><span class="mf">1.0e-4</span><span class="p">)</span>
<span class="c1"># skip the fixed-temperature step (optional)</span>
<span class="n">flamespeedcalculator</span><span class="o">.</span><span class="n">skip_fix_T_solution</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="c1"># reduce the Jacobian age during the pseudo time stepping phase</span>
<span class="n">flamespeedcalculator</span><span class="o">.</span><span class="n">set_pseudo_Jacobian_age</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="run-the-premixed-flame-calculation">
<h2>Run the premixed flame calculation<a class="headerlink" href="#run-the-premixed-flame-calculation" title="Link to this heading">#</a></h2>
<p>Use the <code class="docutils literal notranslate"><span class="pre">run()</span></code> method to run the freely propagating premixed flame (flame speed) model.
will solve the reactors one by one in the order they are added to the network. After the
premixed flame calculation concludes successfully, use the <code class="docutils literal notranslate"><span class="pre">process_solution()</span></code> method to
postprocess the solutions. The predicted laminar flame speed can be obtained by using the
<code class="docutils literal notranslate"><span class="pre">get_flame_speed()</span></code> method. You can create other property profiles by looping through the
solution streams with proper <code class="docutils literal notranslate"><span class="pre">Mixture</span></code> methods.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When the inlet stream condition is close to the flammability limit, the flame speed
calculation might fail. Remember that the reaction mechanism (reaction rates, thermodynamic
properties, and transport properties) and the reactor model are <em>models</em> that contain assumptions
and uncertainties.</p>
</div>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># set the start wall time</span>
<span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>

<span class="n">status</span> <span class="o">=</span> <span class="n">flamespeedcalculator</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
<span class="k">if</span> <span class="n">status</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">Color</span><span class="o">.</span><span class="n">RED</span> <span class="o">+</span> <span class="s2">&quot;Failed to calculate the laminar flame speed!&quot;</span> <span class="o">+</span> <span class="n">Color</span><span class="o">.</span><span class="n">END</span><span class="p">)</span>
    <span class="n">exit</span><span class="p">()</span>

<span class="c1"># compute the total runtime</span>
<span class="n">runtime</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span>
<span class="nb">print</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Total simulation duration: </span><span class="si">{</span><span class="n">runtime</span><span class="si">}</span><span class="s2"> [sec].&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="postprocess-the-premixed-flame-results">
<h2>Postprocess the premixed flame results<a class="headerlink" href="#postprocess-the-premixed-flame-results" title="Link to this heading">#</a></h2>
<p>The postprocessing step will parse the solution and package the solution values at each
time point into a stream. There are two ways to access the solution profiles:</p>
<blockquote>
<div><p>1. the raw solution profiles (value as a function of time) are available for “distance”,
“temperature”, and species “mass fractions”;</p>
<p>2. the streams that permit the use of all property and rate utilities to extract
information such as viscosity, density, and mole fractions.</p>
</div></blockquote>
<p>You can use the <code class="docutils literal notranslate"><span class="pre">get_solution_variable_profile()</span></code> method to get the raw solution profiles. You
solution streams are accessed using either the <code class="docutils literal notranslate"><span class="pre">get_solution_stream_at_grid()</span></code> method for the
solution stream at the given grid point or the <code class="docutils literal notranslate"><span class="pre">get_solution_stream()</span></code> method for the
solution stream at the given location. (In this case, the stream is constructed by interpolation.)</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Use the <code class="docutils literal notranslate"><span class="pre">get_solution_size()</span></code> to get the number of grid pints in the solution profiles before
creating the arrays.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">mass_flowrate</span></code> from the solution streams is actually the <em>mass flux</em> [g/cm<sup>2</sup>-sec].
It can used to derive the velocity at the corresponding
location by dividing it by the local gas mixture density [g/cm<sup>3</sup>]. The <code class="docutils literal notranslate"><span class="pre">get_flame_speed()</span></code>
can also be used to retrieve the predict laminar flame speed value.</p></li>
</ul>
</div>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># postprocess the solutions</span>
<span class="n">flamespeedcalculator</span><span class="o">.</span><span class="n">process_solution</span><span class="p">()</span>

<span class="c1"># print the predicted laminar flame speed</span>
<span class="nb">print</span><span class="p">(</span>
    <span class="sa">f</span><span class="s2">&quot;The predicted laminar flame speed = </span><span class="si">{</span><span class="n">flamespeedcalculator</span><span class="o">.</span><span class="n">get_flame_speed</span><span class="p">()</span><span class="si">}</span><span class="s2"> [cm/sec].&quot;</span>
<span class="p">)</span>
<span class="c1"># get the number of solution grid points</span>
<span class="n">solutionpoints</span> <span class="o">=</span> <span class="n">flamespeedcalculator</span><span class="o">.</span><span class="n">get_solution_size</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Number of solution points = </span><span class="si">{</span><span class="n">solutionpoints</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
<span class="c1"># get the grid profile</span>
<span class="n">mesh</span> <span class="o">=</span> <span class="n">flamespeedcalculator</span><span class="o">.</span><span class="n">get_solution_variable_profile</span><span class="p">(</span><span class="s2">&quot;distance&quot;</span><span class="p">)</span>
<span class="c1"># get the temperature profile</span>
<span class="n">tempprofile</span> <span class="o">=</span> <span class="n">flamespeedcalculator</span><span class="o">.</span><span class="n">get_solution_variable_profile</span><span class="p">(</span><span class="s2">&quot;temperature&quot;</span><span class="p">)</span>
<span class="c1"># get HO2 mass fraction profile</span>
<span class="n">HO2profile</span> <span class="o">=</span> <span class="n">flamespeedcalculator</span><span class="o">.</span><span class="n">get_solution_variable_profile</span><span class="p">(</span><span class="s2">&quot;HO2&quot;</span><span class="p">)</span>

<span class="c1"># create arrays for mixture density, mixture viscosity, and mixture specific heat capacity</span>
<span class="n">denprofile</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros_like</span><span class="p">(</span><span class="n">mesh</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">double</span><span class="p">)</span>
<span class="n">viscprofile</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros_like</span><span class="p">(</span><span class="n">mesh</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">double</span><span class="p">)</span>
<span class="c1"># loop over all solution grid points</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">solutionpoints</span><span class="p">):</span>
    <span class="c1"># get the stream at the grid point</span>
    <span class="n">solutionstream</span> <span class="o">=</span> <span class="n">flamespeedcalculator</span><span class="o">.</span><span class="n">get_solution_stream_at_grid</span><span class="p">(</span><span class="n">grid_index</span><span class="o">=</span><span class="n">i</span><span class="p">)</span>
    <span class="c1"># get gas density [g/cm3]</span>
    <span class="n">denprofile</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">solutionstream</span><span class="o">.</span><span class="n">RHO</span>
    <span class="c1"># get mixture viscosity profile [g/cm-sec] or [Poise]</span>
    <span class="n">viscprofile</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">solutionstream</span><span class="o">.</span><span class="n">mixture_viscosity</span><span class="p">()</span> <span class="o">*</span> <span class="mf">1.0e2</span>
</pre></div>
</div>
</section>
<section id="plot-the-premixed-flame-solution-profiles">
<h2>Plot the premixed flame solution profiles<a class="headerlink" href="#plot-the-premixed-flame-solution-profiles" title="Link to this heading">#</a></h2>
<p>Plot the solution profiles of the premixed flame.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You can get profiles of the thermodynamic and the transport properties
by applying <code class="docutils literal notranslate"><span class="pre">Mixture</span></code> utility methods to the solution <code class="docutils literal notranslate"><span class="pre">Stream</span></code>.</p>
</div>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">sharex</span><span class="o">=</span><span class="s2">&quot;col&quot;</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">221</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">mesh</span><span class="p">,</span> <span class="n">tempprofile</span><span class="p">,</span> <span class="s2">&quot;r-&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Temperature [K]&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">222</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">mesh</span><span class="p">,</span> <span class="n">denprofile</span><span class="p">,</span> <span class="s2">&quot;b-&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Mixture Density [g/cm3]&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">223</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">mesh</span><span class="p">,</span> <span class="n">HO2profile</span><span class="p">,</span> <span class="s2">&quot;g-&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Distance [cm]&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;HO2 Mass Fraction&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">224</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">mesh</span><span class="p">,</span> <span class="n">viscprofile</span><span class="p">,</span> <span class="s2">&quot;m-&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Distance [cm]&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Mixture Viscosity [cP]&quot;</span><span class="p">)</span>
<span class="c1"># plot results</span>
<span class="k">if</span> <span class="n">interactive</span><span class="p">:</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s2">&quot;plot_hydrogen_premixed_flame.png&quot;</span><span class="p">,</span> <span class="n">bbox_inches</span><span class="o">=</span><span class="s2">&quot;tight&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="sphx-glr-footer sphx-glr-footer-example docutils container" id="sphx-glr-download-auto-examples-premixed-flame-flamespeed-py">
<div class="sphx-glr-download sphx-glr-download-jupyter docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/6f3965ff0e23b04a4f3a0ba34c901570/flamespeed.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">flamespeed.ipynb</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-python docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/6bb9005fda9b792daa0839617d366ec6/flamespeed.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">flamespeed.py</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-zip docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/4eab3a52371ab3000d7f578f263cf607/flamespeed.zip"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">zipped:</span> <span class="pre">flamespeed.zip</span></code></a></p>
</div>
</div>
<p class="sphx-glr-signature"><a class="reference external" href="https://sphinx-gallery.github.io">Gallery generated by Sphinx-Gallery</a></p>
</section>
</section>


                </article>
              
              
              
              
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#import-pychemkin-packages-and-start-the-logger">Import PyChemkin packages and start the logger</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#create-a-chemistry-set">Create a chemistry set</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pre-process-the-chemistry-set">Pre-process the <code class="docutils literal notranslate"><span class="pre">Chemistry</span> <span class="pre">Set</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#set-up-the-h2-n2-air-mixture-for-the-flame-speed-calculation">Set up the (H<sub>2</sub> + N<sub>2</sub>)-air mixture for the flame speed calculation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#instantiate-the-laminar-speed-calculator">Instantiate the laminar speed calculator</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#set-up-initial-mesh-and-grid-adaption-options">Set up initial mesh and grid adaption options</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#set-transport-property-options">Set transport property options</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#set-species-composition-boundary-option">Set species composition boundary option</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#set-solver-parameters">Set solver parameters</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#run-the-premixed-flame-calculation">Run the premixed flame calculation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#postprocess-the-premixed-flame-results">Postprocess the premixed flame results</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#plot-the-premixed-flame-solution-profiles">Plot the premixed flame solution profiles</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item"> 
<div class="tocsection editthispage">
  <a href="https://github.com/ansys/pychemkin/edit/main/doc/source/auto_examples/premixed_flame/flamespeed.rst">
    <i class="fa-solid fa-pencil"></i>
       Edit
    on GitHub  
  </a>
</div>

</div>

  <div class="sidebar-secondary-item">

  <div class="tocsection sourcelink">
    <a href="../../_sources/auto_examples/premixed_flame/flamespeed.rst.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright (c) 2025 ANSYS, Inc. All rights reserved.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item"><p class="theme-version">
  Built with the
  <a href="https://sphinxdocs.ansys.com/version/stable/index.html"
    >Ansys Sphinx Theme</a
  >
  1.0.11. <br />Last updated on
  <span id="date"></span>
</p>
<script>
  var options = { day: "numeric", month: "long", year: "numeric" };
  var lastModifiedDate = new Date(document.lastModified);
  var date = lastModifiedDate.toLocaleDateString("en-US", options);
  document.getElementById("date").innerHTML = date;
</script></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>